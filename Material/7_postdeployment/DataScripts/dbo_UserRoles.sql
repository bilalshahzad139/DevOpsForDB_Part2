
MERGE INTO dbo.UserRoles AS Target 
USING (
	SELECT 8,3 UNION ALL
	SELECT 1010,3 UNION ALL
	SELECT 1015,3 UNION ALL
	SELECT 1016,3 UNION ALL
	SELECT 1017,3 UNION ALL
	SELECT 1018,3 UNION ALL
	SELECT 1019,3 UNION ALL
	SELECT 1022,3 UNION ALL
	SELECT 1023,3 UNION ALL
	SELECT 7,1 UNION ALL
	SELECT 1020,1 UNION ALL
	SELECT 1021,1 UNION ALL
	SELECT 1025,17 UNION ALL
	SELECT 55,4
) 
AS Source (UserId, RoleId) 
ON Target.UserId = Source.UserId
WHEN MATCHED THEN 
UPDATE SET 
	RoleId = Source.RoleId

WHEN NOT MATCHED BY TARGET THEN 
INSERT (UserId, RoleId) 
VALUES (UserId, RoleId);
--WHEN NOT MATCHED BY SOURCE THEN 
--DELETE;

